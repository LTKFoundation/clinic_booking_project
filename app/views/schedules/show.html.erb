<%= form_for(@schedule, :url => doctor_gig_schedule_path(current_doctor, @gig,@schedule))  do |f| %>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="cb_all_week" onchange='handleChange(this);'/>
		<label for="cb_all_week">Cả Tuần</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"start_all", onchange:"updateStartTime(this);"%>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"end_all", onchange:"updateEndTime(this);"%>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="mon" />
		<label for="mon">Thứ Hai</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"mon_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"mon_end" %>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="tue" />
		<label for="tue">Thứ Ba</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"tue_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"tue_end" %>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="wed" />
		<label for="wed">Thứ Tư</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"wed_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"wed_end" %>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="thu" />
		<label for="thu">Thứ Năm</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"thu_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"thu_end" %>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="fri" />
		<label for="fri">Thứ Sáu</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"fri_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"fri_end" %>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="sat" />
		<label for="sat">Thứ Bảy</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"sat_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"sat_end" %>
	</div>
	</div>
	<div class="row">
	<div class="col s2 input-field">
		<input type="checkbox" id="sun" />
		<label for="sun">Chủ Nhật</label>
	</div>
	<div class="col s4 input-field">
		<label>Bắt đầu</label>
		<%= text_field :start_time, "start_time", class: "timepicker", placeholder: '', id:"sun_start"  %>
	</div>
	<div class="col s4 input-field">
		<label >Kết thúc </label>
		<%= text_field :end_time, "end_time", class: "timepicker", placeholder: '', id:"sun_end" %>
	</div>
	</div>

	<button class="btn waves-effect waves-light" type="submit" name="action">Tạo dịch vụ
		<i class="material-icons right">send</i>
	</button>
<% end %>
<script type="text/javascript">
//TODO @Tucq PLEASE MAKE ALL THE LABEL "FLY UP" WHEN THEIR VALUE WERE FILLED. 
//NOW THE LABEL JUST SIT THEIR ASSES RIGHT WHERE THE VALUE ARE FILLED
$(document).on('turbolinks:load', function() {
    $('.timepicker').pickatime({
      min: [07,00],
      max: [22,00]
    });
});
function updateAllStartTime()
{
	var start_all = $('input[id=start_all]').val();
	$('input[id$=start]').each(function () {
		this.value = start_all;
	});
}
function updateAllEndTime()
{
		var end_all = $('input[id=end_all]').val();
		$('input[id$=end]').each(function () {
		 this.value = end_all;
		});
}
function handleChange(cb) {
  if(cb.checked == true){
   $('input[type=checkbox]').each(function () {
		 this.checked = true;
		});
		updateAllStartTime();
		updateAllEndTime();
  }
	else {
		$('input[type=checkbox]').each(function () {
		 this.checked = false;
		});
	}
}
function updateStartTime(tb)
{
	var all_cb = $('input[id=cb_all_week]').is(':checked');
	if(all_cb == true)
	{
		updateAllStartTime();
	}
}
function updateEndTime(tb)
{
	var all_cb = $('input[id=cb_all_week]').is(':checked');
	if(all_cb == true)
	{
		updateAllEndTime();
	}
}
</script>
