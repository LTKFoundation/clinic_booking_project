<%= form_tag(nil, method: 'get', remote: true, id: 'form-filter') do %>
  <div class="section">
    <div class="row">
      <div class="input-field">
          <div class="row">
            <div class="col m10 s10">
              <%= text_field_tag :q, nil, class: 'validate' %>
              <label for="q">Ví dụ: "bác sĩ Long sản ở Ba Đình"</label>
            </div>
            <div class="col m2 s2">
              <button class="btn waves-effect waves-light" type="submit">
                <i class="material-icons">search</i>
              </button>
            </div>
          </div>
      </div>
    </div>

    <div class="row">

      <div class="input-field col s12 m3">
        <label>Chọn thành phố</label>
          <%=
            select_tag(:city,
            options_for_select(
              [
                ['Hà Nội', 'Hà Nội'],
                ['Hồ Chí Minh', 'Hồ Chí Minh']
              ],
              params[:city] || 1),
            include_blank: true,
            id: "city-filter")
          %>
      </div>


      <div class="input-field col s12 m3">
        <label for="expertise-filter">Chọn chuyên khoa</label>
        <%=
          select_tag(:expertise,
            options_for_select([ ['Nhi', 'nhi'], ['Sản', 'sản'] ],params[:expertise] || 1),
            include_blank: true,
            id: "expertise-filter")
        %>
      </div>


        <div class="input-field col s12 m3">
          <input name="date" type="date" class="datepicker" id="datepicker_">
          <label for="datepicker_">Ngày</label>
        </div>

        <script type="text/javascript">
          $('.datepicker').pickadate({
            selectMonths: true, // Creates a dropdown to control month
            selectYears: 15 // Creates a dropdown of 15 years to control year
          });
        </script>

        <div class="input-field col s12 m3">
          <input id="timepicker_ampm_dark" class="timepicker" type="time" name="time">
          <label for="timepicker_ampm_dark">Giờ</label>
        </div>

        <script>
        $(document).on('turbolinks:load', function() {
            $('.timepicker').pickatime({
              min: [07,00],
            max: [22,00]
            });
        });
        </script>
    </div>

    <div style="text-align: center">
      <button class="waves-effect waves-light btn" type="submit">Search</a>
    </div>

  </div>
<% end %>
<div class="section">
  <div class="row">
    <div class="doctors">
      <%= render partial: 'shared/doctors_card', locals: { doctors: @doctors } %>
    </div>
  </div>
</div>


<script>
$(document).on('turbolinks:load', function() {
  $('select').material_select();
})
</script>
